---
title: 数据结构实验之排序七：选课名单-SDUT3404
date: 2017-05-23 20:31:21
categories: 数据结构文章标签
---
Problem Description  
  
随着学校规模的扩大，学生人数急剧增加，选课名单的输出也成为一个繁重的任务，我校目前有在校生3万多名，两千多门课程，请根据给定的学生选课清单输出每门课的选课学生名单。  
Input  
  
输入第一行给出两个正整数N( N ≤ 35000)和M(M ≤
2000)，其中N是全校学生总数，M是课程总数，随后给出N行，每行包括学生姓名拼音+学号后两位<!-- more -->(字符串总长度小于10)、数字S代表该学生选课的总数，随后是S个课程编号，约定课程编号从1到M，数据之间以空格分隔。  
  
Output  
  
按课程编号递增的顺序输出课程编号、选课总人数以及选课学生名单，对选修同一门课程的学生按姓名的字典序输出学生名单。数据之间以空格分隔，行末不得有多余空格。  
Example Input  
  
5 3  
Jack01 2 2 3  
Jone01 2 1 3  
Anni02 1 1  
Harry01 2 1 3  
TBH27 1 1  
  
Example Output  
  
1 4  
Anni02  
Harry01  
Jone01  
TBH27  
2 1  
Jack01  
3 3  
Harry01  
Jack01  
Jone01  

提示：  

一个简单的快排问题，不过不同于其他快排的地方在于对字符串进行快速排序，看了看提交中普遍代码长度接近1w，于是手写了一下自己的代码，

首选建立一个结构体来储存每一个科目，在这里要注意二维字符数组name[ ][ ]的选取，如果选的过大，会爆掉。
每当有一个同学选这一科目，就存进相应的结构体里到最后对结构体进行一次简单的快速排序就可以了

代码如下

    
    
    #include <stdio.h>
    #include <string.h>
    #include <algorithm>
    using namespace std;
    struct node
    {
        char name[35010][10];
        int ans;
    } a[2050];
    void qsort(int fis, int end,int id)
    {
        char  key[10];
        strcpy(key,a[id].name[fis]);
        int i=fis, j=end;
        if(i>=j) return ;
        while (i<j)
        {
            while (i<j)
            {
                if(strcmp(key,a[id].name[j]) >0 )
                {
                    strcpy(a[id].name[i],a[id].name[j]);
                    break;
                }
                j--;
            }
            while (i<j)
            {
                if(strcmp(key,a[id].name[i]) <0 )
                {
                    strcpy(a[id].name[j],a[id].name[i]);
                    break;
                }
                i++;
            }
    
        }
        strcpy(a[id].name[i],key);
        qsort(fis,i-1,id);
        qsort(i+1,end,id);
    }
    
    int main ()
    {
        int s,n,m,i,j,k;
        char na[10];
        scanf("%d %d",&n,&m);
        for(i=0; i<n; i++)
        {
            scanf("%s %d",na,&s);
            while (s--)
            {
                scanf("%d",&k);
                strcpy(a[k].name[a[k].ans],na);
                a[k].ans++;
            }
        }
        for(i=1; i<=m; i++)
        {
             qsort(0,a[i].ans-1,i);
            printf("%d %d\n",i,a[i].ans);
            for(j=0; j<a[i].ans; j++)
                printf("%s\n",a[i].name[j]);
        }
        return 0;
    
    }

  
  

